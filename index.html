<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TikTok Video Fetcher</title>
    <link rel="stylesheet" href="styles.css">
</head>

<body>
    <h2>TikTok Video Fetcher</h2>

    <div class="steps">
        <h3>1. Go to your TikTok profile and open the browser console (F12 → Console)</h3>
        <h3>2. Copy this code:</h3>
        <textarea id="scriptBox" readonly>
            function getVideoLinks() {
                let videoLinks = [];
                document.querySelectorAll('a[href*="/video/"]').forEach(link => {
                    let url = link.href;
                    if (!videoLinks.includes(url)) {
                        videoLinks.push(url);
                    }
                });
            
                if (videoLinks.length > 0) {
                    let textToCopy = videoLinks.join("\n");
            
                    // Create custom modal with copy button
                    let modal = document.createElement("div");
                    modal.style.position = "fixed";
                    modal.style.top = "0";
                    modal.style.left = "0";
                    modal.style.width = "100%";
                    modal.style.height = "100%";
                    modal.style.backgroundColor = "rgba(0, 0, 0, 0.5)";
                    modal.style.display = "flex";
                    modal.style.alignItems = "center";
                    modal.style.justifyContent = "center";
                    modal.style.zIndex = "1000";
            
                    let modalContent = document.createElement("div");
                    modalContent.style.backgroundColor = "white";
                    modalContent.style.padding = "20px";
                    modalContent.style.borderRadius = "8px";
                    modalContent.style.maxWidth = "500px";
                    modalContent.style.textAlign = "center";
                    modalContent.style.boxShadow = "0 4px 6px rgba(0, 0, 0, 0.1)"; 
            
                    let message = document.createElement("p");
                    message.textContent = "✅ Video links extracted! Click below to copy.";
                    message.style.color = "black";  
                    message.style.fontSize = "16px";
                    modalContent.appendChild(message);
            
                    let textarea = document.createElement("textarea");
                    textarea.value = textToCopy;
                    textarea.style.width = "100%";
                    textarea.style.height = "150px";
                    textarea.style.fontSize = "14px";
                    textarea.style.border = "1px solid #ccc";
                    textarea.style.padding = "10px";
                    textarea.style.marginTop = "10px";
                    modalContent.appendChild(textarea);
            
                    let copyButton = document.createElement("button");
                    copyButton.textContent = "Copy Links";
                    copyButton.style.margin = "10px";
                    copyButton.style.padding = "12px 24px";
                    copyButton.style.fontSize = "16px";
                    copyButton.style.backgroundColor = "#4CAF50";  
                    copyButton.style.color = "white";
                    copyButton.style.border = "none";
                    copyButton.style.borderRadius = "5px";
                    copyButton.style.cursor = "pointer";
                    copyButton.style.transition = "background-color 0.3s ease";
                    modalContent.appendChild(copyButton);
            
                    let closeButton = document.createElement("button");
                    closeButton.textContent = "Close";
                    closeButton.style.margin = "10px";
                    closeButton.style.padding = "12px 24px";
                    closeButton.style.fontSize = "16px";
                    closeButton.style.backgroundColor = "#f44336";  
                    closeButton.style.color = "white";
                    closeButton.style.border = "none";
                    closeButton.style.borderRadius = "5px";
                    closeButton.style.cursor = "pointer";
                    closeButton.style.transition = "background-color 0.3s ease";
                    modalContent.appendChild(closeButton);
            
                    modal.appendChild(modalContent);
                    document.body.appendChild(modal);
            
                    copyButton.addEventListener("click", function() {
                        textarea.select();
                        document.execCommand("copy");
                        alert("✅ Video links copied to clipboard!");
                    });
            
                    closeButton.addEventListener("click", function() {
                        document.body.removeChild(modal);
                    });
            
                    console.log("✅ Video links extracted! Click 'Copy Links' to copy.");
                } else {
                    console.log("No videos found!");
                    alert("No videos found!");
                }
            }
            getVideoLinks();
            
        </textarea>
        <button id="copyScriptButton" onclick="copyScript()">Copy Script</button>

        <h3>3. Paste it into the browser console and Press Enter</h3>
        <h3>4. Click this paste button</h3>
        <button onclick="pasteContent()" style="margin-bottom: 10px;">Paste</button>
        <div id="pastedContent"></div>
    </div>

    <script src="script.js"></script>
</body>

</html>